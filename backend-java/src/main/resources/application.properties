spring.application.name=Mommyshops
spring.main.banner-mode=off
spring.threads.virtual.enabled=true

# Database (overridden per environment)
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/mommyshops}
spring.datasource.username=${DB_USERNAME:mommyshops}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# JPA
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false
spring.jpa.show-sql=true

# Redis (cache for external integrations)
spring.data.redis.host=localhost
spring.data.redis.port=6379

# Security / OAuth placeholders (disabled for testing)
# spring.security.oauth2.client.registration.google.client-id=
# spring.security.oauth2.client.registration.google.client-secret=
# spring.security.oauth2.client.registration.google.scope=openid,profile,email
# spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
# spring.security.oauth2.client.provider.google.issuer-uri=https://accounts.google.com

# Vaadin
vaadin.launch-browser=false
vaadin.whitelisted-packages=com.mommyshops.frontend

# Monitoring
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.metrics.export.prometheus.enabled=true

# External API Configuration
external.api.fda.key=${FDA_API_KEY:}
external.api.ewg.key=${EWG_API_KEY:}
external.api.ewg.base-url=https://www.ewg.org/skindeep
external.api.pubchem.base-url=https://pubchem.ncbi.nlm.nih.gov/rest/pug
external.api.who.base-url=https://ghoapi.azureedge.net/api

# Ollama Configuration
ollama.base-url=${OLLAMA_BASE_URL:http://localhost:11434}
ollama.model=${OLLAMA_MODEL:llama3.1}
ollama.vision-model=${OLLAMA_VISION_MODEL:llava}
ollama.timeout=120

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Security Configuration (disabled for testing)
# spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:}
# spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:}

# Analysis Configuration
analysis.confidence.threshold=70
analysis.max-ingredients=50
analysis.cache.duration=3600

# CORS Configuration
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:8080}
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=Content-Type,Authorization,X-Requested-With
cors.max-age=3600

# Security Configuration
security.jwt.secret=${JWT_SECRET:}
security.jwt.expiration=3600000
security.require-https=${REQUIRE_HTTPS:false}
